<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home - Administrador</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styleCadClientey.css') }}">
    <script src="https://kit.fontawesome.com/4665b3a379.js" crossorigin="anonymous"></script>
</head>
<body>

    <div class="loader-overlay">
        <div class="spinner">
          <div></div>
          <div></div>
          <div></div>
          <div></div>
          <div></div>
          <div></div>
        </div>
        </div>
    </div>

    <!-- Área Principal com o Formulário Centralizado -->
    
    <main class="main-content">
        <h1 class="main-title">Editar Cliente</h1>
        {% if msg %}
          <div class="message {{ msg_type }}">
        {{ msg }}
          </div>
        {% endif %}
                
        <img src="{{ url_for('static', filename='images/Textura inferior.png') }}" class="texturaB">
        <img src="{{ url_for('static', filename='images/Textura superior.png') }}" class="texturaC">
        
        <section class="lawyer-registration">
          <form class="registration-form" method="POST" action="{{ url_for('CadastroCliente') }}" enctype="multipart/form-data">            <!-- Componente de Upload de Imagem (Quadrado e Centralizado) -->
           <!-- Imagem de Upload -->
        <div class="input-div" onclick="triggerUpload()">
            <input class="input" id="upload-input" type="file" name="file" accept=".jpg, .jpeg, .png" onchange="loadFile(event)">
            <img src="https://via.placeholder.com/100" alt="Imagem de perfil" class="profile-pic" id="profile-pic" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" stroke-linejoin="round" stroke-linecap="round" viewBox="0 0 24 24" stroke-width="2" fill="none" stroke="currentColor" class="icon">
              <polyline points="16 16 12 12 8 16"></polyline>
              <line y2="21" x2="12" y1="12" x1="12"></line>
              <path d="M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"></path>
              <polyline points="16 16 12 12 8 16"></polyline>
            </svg>
          </div>
          
          <!-- Primeira Coluna de Campos -->
          <div class="form-column">
            <div class="form-field">
              <label for="name">Nome</label>
              <input type="text" id="name" name="nome" class="form-input" placeholder="Digite seu nome completo" required>
            </div>



            <div class="form-field">
              <label for="email">E-mail</label>
              <input type="email" id="email" name="email" class="form-input" placeholder="Digite seu e-mail" required>
            </div>
            <div class="form-field">
              <label for="dtNascimento">Data de nascimento</label>
              <input type="date" id="dtNascimento" name="dtNascimento" class="form-input" required>
            </div>


                        <!-- CAUSA FORMA DIRETA -->
                        <div class="form-field">
                          <label for="causa">Causa</label>
                          <input id="causa" name="causa" class="form-input" placeholder="Causa" required></input>
                        </div>

          </div>
          
          <!-- Segunda Coluna de Campos -->
          <div class="form-column"style="margin-top:10px">
            <div class="form-field">
              <label for="cpf">CPF</label>
              <input type="text" id="cpf" name="cpf" class="form-input" placeholder="123.456.789-10" required>
            </div>





            <div class="form-field">
              <label for="IdAdv">CPF Advogado</label>
              <input type="text" id="IdAdv" name="IdAdv" class="form-input" placeholder="CPF Advogado" value="{{ cpfAdv }}" {% if not cpf_editable %}readonly{% endif %}>
            </div>
            <div class="form-field">
              <label for="fone">Telefone</label>
              <input type="tel" id="fone" name="fone" class="form-input" placeholder="3456-7890" required>
            </div>

                        <!-- DESCIRCAO INTEIRA -->
                        <div class="form-field">
                          <label for="causa">Descrição da causa</label>
                          <textarea id="causa" name="causa" class="form-input" placeholder="Descrição..." required></textarea>
                        </div>
          </div>
          
          <!-- Botão de Salvar -->
          <div class="button-container">
            <button type="submit" class="submit-button">Salvar Informações</button>
          </div>
        </form>
      </section>
    </main>
    
    <script>

        window.addEventListener('load', function() {
            document.querySelector('.loader-overlay').style.display = 'none';
        });
        function triggerUpload() {
            document.getElementById("upload-input").click();
          }
          
          function loadFile(event) {
            const output = document.getElementById("profile-pic");
            const uploadIcon = document.querySelector(".icon");
          
            output.src = URL.createObjectURL(event.target.files[0]);
            output.style.display = "block"; // Exibe a imagem de perfil
            uploadIcon.style.display = "none"; // Esconde o ícone de upload
          
            output.onload = () => {
              URL.revokeObjectURL(output.src); // Libera a memória do objeto URL
            };
          }
          
        function togglePasswordVisibility() {
            const passwordField = document.getElementById("password");
            const passwordToggle = document.querySelector(".password-toggle");
          
            if (passwordField.type === "password") {
              passwordField.type = "text";
              passwordToggle.src = "https://cdn.builder.io/api/v1/image/assets/86836f072c124e818bc78d0c65f8ba52/a33e3eec52e9f3d4e6b97b40c2baccf04f5f9f0c1c1c18f3ec438d7cce29509a?apiKey=86836f072c124e818bc78d0c65f8ba52&"; // Ícone para "mostrar"
            } else {
              passwordField.type = "password";
              passwordToggle.src = "https://cdn.builder.io/api/v1/image/assets/86836f072c124e818bc78d0c65f8ba52/da00e5ac0e51b2733793730dccddd40cf2fc37a43ec98e24357ca41487d6f128?apiKey=86836f072c124e818bc78d0c65f8ba52&"; // Ícone para "esconder"
            }
          }
          
    </script>
</body>
</html>
